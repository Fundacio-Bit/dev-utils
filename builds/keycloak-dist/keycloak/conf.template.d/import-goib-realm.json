{
    "realm": "GOIB",
    "enabled": true,
    "clients": [
        {
            "clientId": "goib-default",
            "description": "Autenticación de aplicaciones (entorno de desarrollo local)",
            "enabled": true,
            "publicClient": true,
            "standardFlowEnabled": true,
            "implicitFlowEnabled": false,
            "directAccessGrantsEnabled": true,
            "authorizationServicesEnabled": false,
            "rootUrl": "http://${NGINX_HOST_SERVER}/",
            "redirectUris": [
                "https://${NGINX_HOST_SERVER}/*",
                "http://${NGINX_HOST_SERVER}/*"
            ],
            "adminUrl": "${KEYCLOAK_URI_ARG_HOST}",
            "webOrigins": [
                "*"
            ],
            "attributes": {
                "login_theme": "keycloak"
            },
            "protocolMappers": [
                {
                    "name": "client roles",
                    "protocol": "openid-connect",
                    "protocolMapper": "oidc-usermodel-client-role-mapper",
                    "consentRequired": false,
                    "config": {
                        "introspection.token.claim": "true",
                        "multivalued": "true",
                        "userinfo.token.claim": "false",
                        "id.token.claim": "true",
                        "lightweight.claim": "false",
                        "access.token.claim": "true",
                        "claim.name": "resource_access.${client_id}.roles",
                        "jsonType.label": "String",
                        "usermodel.clientRoleMapping.clientId": "goib-default"
          }
        }
            ]
        },
        {
            "clientId": "goib-ws",
            "description": "Autenticación de servicios API REST (entorno de desarrollo local)",
            "enabled": true,
            "clientAuthenticatorType": "client-secret",
            "secret": "${KEYCLOAK_APP_USER_SECRET}",
            "bearerOnly" : true,
            "publicClient": false,
            "standardFlowEnabled": true,
            "implicitFlowEnabled": false,
            "directAccessGrantsEnabled": true,
            "serviceAccountsEnabled": true,
            "authorizationServicesEnabled": true,
            "redirectUris": [
                "*"
            ],
            "webOrigins": [
                "*"
            ]
        }
    ],
    "users": [
        {
            "username": "${KEYCLOAK_APP_USER}",
            "enabled": true,
            "firstName": "Usuari",
            "lastName": "Goib",
            "email":"${KEYCLOAK_APP_USER_EMAIL}",
            "credentials": [
                {
                    "type": "password",
                    "value": "${KEYCLOAK_APP_USER_PASS}"
                }
            ],
            "clientRoles": {
                    "goib-default": [
                        "EBO_SUPERVISOR", "EMS_RESP", "EMS_ADMIN", "EBO_USER", "EBO_ADMIN", "ECD_USER", "ECD_ADMIN"
                    ]
            }
        },
        {   
            "username": "$GOIB_USUARI",
            "enabled": true,
            "credentials": [
                {
                    "type": "password",
                    "value": "$GOIB_USUARI"
                }
            ],
            "clientRoles": {
                    "goib-ws": [
                        "EBO_SUPERVISOR"
                    ]
            }
        }
    ],
    "roles": {  
        "client": {
            "goib-default": [
                {
                   "name": "EBO_SUPERVISOR",
                   "description": "Administrator privileges",
                   "composite": false,
                   "clientRole": true
                },
                {
                   "name": "EMS_ADMIN",
                   "description": "Emiserv Administrador",
                   "composite": false,
                   "clientRole": true
                },
                {
                   "name": "EMS_RESP",
                   "description": "Emiserv Responsable",
                   "composite": false,
                   "clientRole": true
                },
                {
                   "name": "EBO_USER",
                   "description": "EmiservBackoffice Administrador",
                   "composite": false,
                   "clientRole": true
                },
                {
                   "name": "EBO_ADMIN",
                   "description": "EmiservBackoffice Usuari",
                   "composite": false,
                   "clientRole": true
                },
                {
                   "name": "ECD_USER",
                   "description": "EmiservCedent Administrador",
                   "composite": false,
                   "clientRole": true
                },
                {
                   "name": "ECD_ADMIN",
                   "description": "EmiservCedent Usuari",
                   "composite": false,
                   "clientRole": true
                }
                ],
            "goib-ws": [
                {
                   "name": "EBO_SUPERVISOR",
                   "description": "Administrator privileges",
                   "composite": false,
                   "clientRole": true
                }]
        }
    }
}
